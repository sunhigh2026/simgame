/* ========== ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾© ========== */
const EVENTS = [
  // --- 1æœŸ ---
  {
    id: 'ev_first_day',
    period: 1, month: 1,
    title: 'ðŸ¢ åˆæ—¥ã®ç·Šå¼µ',
    text: 'ä¼šç¤¾è¨­ç«‹å®Œäº†ã€‚ç™»è¨˜ãŒçµ‚ã‚ã‚Šã€ä»Šæ—¥ã‹ã‚‰æ­£å¼ã«ç¤¾é•·ã ã€‚ä½•ã‹ã‚‰å§‹ã‚ã‚‹ã¹ãã‹â€¦',
    choices: [
      { text: 'ã¾ãšã¯æ°—åˆã„ã‚’å…¥ã‚Œã‚‹ï¼', effect: { hpRecover: 1 },
        successText: 'ã‚„ã‚‹ãžï¼æ–°ã—ã„äººç”Ÿã®å§‹ã¾ã‚Šã ã€‚ä½“åŠ›+1' },
      { text: 'è¨ˆç”»ã‚’ç«‹ã¦ç›´ã™', effect: { creditBonus: 1 },
        successText: 'å†·é™ã«ã€‚ã¾ãšã¯ä¸€æ­©ãšã¤ã€‚ä¿¡ç”¨+1' },
    ],
  },
  {
    id: 'ev_bank_account',
    period: 1, month: 2,
    title: 'ðŸ¦ æ³•äººå£åº§ã‚’é–‹è¨­ã—ã«è¡Œã',
    text: 'ä¼šç¤¾ã‚’ä½œã£ãŸã¯ã„ã„ãŒã€æ³•äººå£åº§ãŒãªã„ã¨å§‹ã¾ã‚‰ãªã„ã€‚ãƒ¡ã‚¬ãƒãƒ³ã‚¯ã«ç”³ã—è¾¼ã¿ã«è¡Œãã‹ã€ãƒãƒƒãƒˆéŠ€è¡Œã«ã™ã‚‹ã‹ã€‚',
    choices: [
      { text: 'ãƒ¡ã‚¬ãƒãƒ³ã‚¯ã«ç”³ã—è¾¼ã‚€ï¼ˆä¿¡ç”¨åŠ›UPã€ãŸã ã—å¯©æŸ»åŽ³ã—ã„ï¼‰', effect: { creditBonus: 5, successChance: 0.4 },
        successText: 'å¯©æŸ»é€šéŽï¼ä¿¡ç”¨ã‚¹ã‚³ã‚¢+5',
        failText: 'å¯©æŸ»è½ã¡â€¦ã€Œå®Ÿç¸¾ãŒã§ããŸã‚‰ã¾ãŸæ¥ã¦ãã ã•ã„ã€ã¨è¨€ã‚ã‚ŒãŸã€‚ãƒãƒƒãƒˆéŠ€è¡Œã§é–‹è¨­ã—ãŸã€‚' },
      { text: 'ãƒãƒƒãƒˆéŠ€è¡Œã§é–‹è¨­ï¼ˆç¢ºå®Ÿï¼‰', effect: { creditBonus: 1 },
        successText: 'ã™ãã«é–‹è¨­å®Œäº†ã€‚ãƒãƒƒãƒˆã§å®Œçµã€ä¾¿åˆ©ã€‚ä¿¡ç”¨ã‚¹ã‚³ã‚¢+1' },
    ],
  },
  {
    id: 'ev_business_card',
    period: 1, month: 3,
    title: 'ðŸ“‡ ååˆºã‚’ä½œã‚‹',
    text: 'å–¶æ¥­ã™ã‚‹ã«ã¯ååˆºãŒå¿…è¦ã ã€‚ã©ã“ã¾ã§ã“ã ã‚ã‚‹ï¼Ÿ',
    choices: [
      { text: 'ãƒãƒƒãƒˆå°åˆ·ã§æœ€ä½Žé™ï¼ˆÆ³2,000ï¼‰', effect: { cost: 2000, creditBonus: 0 },
        successText: 'ã‚·ãƒ³ãƒ—ãƒ«ãªååˆºãŒå±Šã„ãŸã€‚ã¾ã‚ã€ã“ã‚Œã§ååˆ†ã€‚' },
      { text: 'ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«é ¼ã‚€ï¼ˆÆ³30,000ï¼‰', effect: { cost: 30000, creditBonus: 3 },
        successText: 'ãŠã—ã‚ƒã‚ŒãªååˆºãŒã§ããŸï¼ã€Œã„ã„ååˆºã§ã™ã­ã€ã¨è¨€ã‚ã‚Œã‚‹ã“ã¨ãŒå¢—ãˆãŸã€‚ä¿¡ç”¨+3' },
    ],
  },
  {
    id: 'ev_first_meeting',
    period: 1, month: 4,
    title: 'ðŸ¤ åˆã‚ã¦ã®å•†è«‡',
    text: 'åˆã‚ã¦ã®æœ¬æ ¼çš„ãªå•†è«‡ã€‚ç·Šå¼µã§å£°ãŒéœ‡ãˆã‚‹â€¦',
    condition: (state) => state.projects.length === 0,
    choices: [
      { text: 'èª å®Ÿã«å¯¾å¿œã™ã‚‹', effect: { creditBonus: 2, successChance: 0.6 },
        successText: 'ç·Šå¼µã—ãŸãŒã€ãªã‚“ã¨ã‹ä¹—ã‚Šåˆ‡ã£ãŸï¼ä¿¡ç”¨+2',
        failText: 'ç·Šå¼µã—ã™ãŽã¦å¤±æ•—â€¦ã§ã‚‚æ¬¡ã«ã¤ãªã’ã‚ˆã†ã€‚' },
      { text: 'äº‹å‰æº–å‚™ã‚’å¾¹åº•ã™ã‚‹ï¼ˆä½“åŠ›-1ï¼‰', effect: { hpCost: 1, creditBonus: 3 },
        successText: 'æº–å‚™ãŒåŠŸã‚’å¥ã—ãŸï¼ã€Œã—ã£ã‹ã‚Šã—ã¦ã¾ã™ã­ã€ã¨è¨€ã‚ã‚ŒãŸã€‚ä¿¡ç”¨+3' },
    ],
  },
  {
    id: 'ev_first_revenue',
    period: 1, month: 4,
    title: 'ðŸŽ‰ åˆã‚ã¦ã®å…¥é‡‘ï¼',
    text: 'ã¤ã„ã«åˆã‚ã¦ã®å£²ä¸ŠãŒå£åº§ã«æŒ¯ã‚Šè¾¼ã¾ã‚ŒãŸæ—¥ã€‚é€šå¸³ã‚’ä½•åº¦ã‚‚è¦‹è¿”ã—ã¦ã—ã¾ã†ã€‚',
    condition: (state) => state.totalRevenue > 0,
    choices: [
      { text: 'æ°—ã‚’å¼•ãç· ã‚ã¦æ¬¡ã®æ¡ˆä»¶ã¸', effect: { hpRecover: 2 }, successText: 'åˆå…¥é‡‘ã®å¬‰ã—ã•ã‚’ãƒãƒã«é ‘å¼µã‚ã†ã€‚ä½“åŠ›+2' },
    ],
  },
  {
    id: 'ev_withholding',
    period: 1, month: 5,
    title: 'ðŸ“ æºæ³‰å¾´åŽã£ã¦ä½•ï¼Ÿ',
    text: 'è«‹æ±‚æ›¸ã‚’å‡ºã—ãŸã‚‰ã€Œæºæ³‰å¾´åŽã—ã¾ã™ã­ã€ã¨è¨€ã‚ã‚ŒãŸã€‚ãˆã€å£²ä¸Šã‹ã‚‰å¼•ã‹ã‚Œã‚‹ã®ï¼Ÿ',
    choices: [
      { text: 'èª¿ã¹ã¦ç†è§£ã™ã‚‹', effect: { hpCost: 1 },
        successText: 'æ‰€å¾—ç¨Žã®å‰æ‰•ã„çš„ãªåˆ¶åº¦ã ã¨ã‚ã‹ã£ãŸã€‚æœ€çµ‚çš„ã«ã¯ç¢ºå®šç”³å‘Šã§èª¿æ•´ã•ã‚Œã‚‹ã€‚å‹‰å¼·ã«ãªã£ãŸï¼' },
      { text: 'ç¨Žç†å£«ã«èžã', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ä½è—¤ç¨Žç†å£«ã€Œæºæ³‰ã¯å£²ä¸Šã®10.21%ãŒå¤©å¼•ãã•ã‚Œã¾ã™ãŒã€æ³•äººãªã‚‰åŸºæœ¬é–¢ä¿‚ãªã„ã§ã™ã‚ˆã€'
          : 'â€¦ç¨Žç†å£«ãŒã„ãªã„ã®ã§è‡ªåˆ†ã§èª¿ã¹ã‚‹ã—ã‹ãªã„ã€‚' },
    ],
  },
  {
    id: 'ev_invoice',
    period: 1, month: 6,
    title: 'ðŸ“„ è«‹æ±‚æ›¸ã®æ›¸ãæ–¹',
    text: 'è«‹æ±‚æ›¸ã‚’ä½œæˆä¸­ã€‚æŒ¯è¾¼å…ˆã€æ”¯æ‰•æ¡ä»¶ã€æ¶ˆè²»ç¨Žâ€¦è¨˜è¼‰äº‹é …ãŒå¤šãã¦æ··ä¹±ã™ã‚‹ã€‚',
    choices: [
      { text: 'ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æŽ¢ã—ã¦çœŸä¼¼ã‚‹', effect: { hpCost: 1 },
        successText: 'ãƒãƒƒãƒˆã§è¦‹ã¤ã‘ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‚è€ƒã«ä½œæˆå®Œäº†ã€‚' },
      { text: 'ä¼šè¨ˆã‚½ãƒ•ãƒˆã‚’å°Žå…¥ï¼ˆÆ³12,000/å¹´ï¼‰', effect: { cost: 12000 },
        successText: 'ä¼šè¨ˆã‚½ãƒ•ãƒˆã§è‡ªå‹•ç”Ÿæˆã€‚æ¥½ã«ãªã£ãŸï¼' },
    ],
  },
  {
    id: 'ev_living_crisis',
    period: 1, month: 7,
    title: 'ðŸ’¸ ç”Ÿæ´»è²»ãŒè¶³ã‚Šãªã„ï¼',
    text: 'å½¹å“¡å ±é…¬ã‚’ä½Žãè¨­å®šã—ã™ãŽãŸã‹ã‚‚ã€‚å€‹äººã®è²¯é‡‘ã‚‚æ¸›ã£ã¦ããŸâ€¦ã€‚',
    // æ‰‹å–ã‚ŠãŒç”Ÿæ´»è²»ï¼ˆ15ä¸‡ï¼‰ã‚’ä¸‹å›žã‚‹å ´åˆã€ã¾ãŸã¯å€‹äººæ®‹é«˜ãŒ100ä¸‡ã‚’åˆ‡ã£ãŸå ´åˆ
    condition: (state) => {
      const netSalary = state.salary - Math.round(state.salary * 0.14);
      return netSalary < 150000 || state.personalBalance < 1000000;
    },
    choices: [
      { text: 'ç¯€ç´„ã—ã¦è€ãˆã‚‹ï¼ˆä½“åŠ›-2ï¼‰', effect: { hpCost: 2 }, successText: 'è‡ªç‚Šã¨ã‚¯ãƒ¼ãƒãƒ³ã§ä¹—ã‚Šåˆ‡ã£ãŸã€‚ä½“ãŒã‚­ãƒ„ã„â€¦ã€‚' },
      { text: 'å€‹äººè²¯é‡‘ã‹ã‚‰ä¼šç¤¾ã«è²¸ä»˜ï¼ˆÆ³300,000ï¼‰', effect: { cashInflow: 300000 }, successText: 'å½¹å“¡å€Ÿå…¥é‡‘ã¨ã—ã¦å‡¦ç†ã€‚ã„ã¤ã‹è¿”ã—ã¦ã‚‚ã‚‰ãŠã†â€¦ã€‚' },
    ],
  },
  {
    id: 'ev_pc_trouble',
    period: 1, month: 8,
    title: 'ðŸ’» PCãŒå£Šã‚ŒãŸï¼',
    text: 'ä»•äº‹ç”¨ã®PCãŒçªç„¶å‹•ã‹ãªããªã£ãŸã€‚ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯â€¦ã‚ã£ãŸã£ã‘ï¼Ÿ',
    choices: [
      { text: 'ä¿®ç†ã«å‡ºã™ï¼ˆÆ³30,000ã€1é€±é–“ï¼‰', effect: { cost: 30000, hpCost: 2 },
        successText: 'ä¿®ç†å®Œäº†ã€‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å¤§åˆ‡ã•ã‚’å­¦ã‚“ã â€¦ä½“åŠ›-2' },
      { text: 'æ–°ã—ã„PCã‚’è²·ã†ï¼ˆÆ³150,000ï¼‰', effect: { cost: 150000 },
        successText: 'æ–°å“ã®PCã¯å¿«é©ã€‚ã“ã‚Œã§ä»•äº‹åŠ¹çŽ‡ã‚‚ã‚¢ãƒƒãƒ—ã™ã‚‹ã¯ãšã€‚' },
    ],
  },
  {
    id: 'ev_first_complaint',
    period: 1, month: 9,
    title: 'ðŸ˜° åˆã‚ã¦ã®ã‚¯ãƒ¬ãƒ¼ãƒ ',
    text: 'ç´å“ã—ãŸæˆæžœç‰©ã«ã‚¯ãƒ¬ãƒ¼ãƒ ãŒâ€¦ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ã¨é•ã†ã€ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã£ãŸã€‚',
    condition: (state) => state.totalRevenue > 0,
    choices: [
      { text: 'èª å®Ÿã«å¯¾å¿œã—ã¦ä¿®æ­£', effect: { hpCost: 2, creditBonus: 2 },
        successText: 'ä¸å¯§ã«å¯¾å¿œã—ãŸçµæžœã€é€†ã«ä¿¡é ¼ã‚’å¾—ã‚‰ã‚ŒãŸã€‚ä¿¡ç”¨+2' },
      { text: 'èª¬æ˜Žã—ã¦ç†è§£ã‚’æ±‚ã‚ã‚‹', effect: { successChance: 0.5, creditBonus: 1 },
        successText: 'èª¬æ˜Žã§ç´å¾—ã—ã¦ã‚‚ã‚‰ãˆãŸã€‚ä¿¡ç”¨+1',
        failText: 'èª¬æ˜Žã§ã¯ç´å¾—ã—ã¦ã‚‚ã‚‰ãˆãšã€çµå±€ä¿®æ­£ã™ã‚‹ã“ã¨ã«â€¦' },
    ],
  },
  {
    id: 'ev_year_end_prep',
    period: 1, month: 10,
    title: 'ðŸ“Š å¹´æœ«èª¿æ•´ï¼Ÿ',
    text: 'ã€Œå¹´æœ«èª¿æ•´ã®æ›¸é¡žã‚’â€¦ã€ã¨ã„ã†è©±ã‚’èžã„ãŸã€‚ä¸€äººç¤¾é•·ã«ã¯é–¢ä¿‚ã‚ã‚‹ï¼Ÿ',
    choices: [
      { text: 'èª¿ã¹ã¦ã¿ã‚‹', effect: { hpCost: 1 },
        successText: 'ä¸€äººç¤¾é•·ã§ã‚‚å¹´æœ«èª¿æ•´ã¯å¿…è¦ã€‚çµ¦ä¸Žæ˜Žç´°ã‚„æºæ³‰å¾´åŽç¥¨ã‚’ä½œã‚‰ãªã„ã¨ã€‚' },
      { text: 'ç¨Žç†å£«ã«ä»»ã›ã‚‹', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ç¨Žç†å£«ã€ŒãŠä»»ã›ãã ã•ã„ã€‚æ›¸é¡žã¯æº–å‚™ã—ã¦ãŠãã¾ã™ã€'
          : 'ç¨Žç†å£«ãŒã„ãªã„ã®ã§è‡ªåˆ†ã§ã‚„ã‚‹ã—ã‹ãªã„â€¦' },
    ],
  },
  {
    id: 'ev_social_ins_notice',
    period: 1, month: 11,
    title: 'ðŸ“¬ ç¤¾ä¼šä¿éšœåºã‹ã‚‰æ‰‹ç´™',
    text: 'ã€Œç¤¾ä¼šä¿é™ºã®å±Šå‡ºã«ã¤ã„ã¦ã€ã¨ã„ã†å°ç­’ãŒå±Šã„ãŸã€‚ä½•ã‹æ‰‹ç¶šããŒå¿…è¦ï¼Ÿ',
    choices: [
      { text: 'ã¡ã‚ƒã‚“ã¨å¯¾å¿œã™ã‚‹', effect: { hpCost: 1, creditBonus: 1 },
        successText: 'å±Šå‡ºã‚’æå‡ºå®Œäº†ã€‚ç¤¾ä¼šä¿é™ºæ–™ã®è¨ˆç®—ã‚‚ç¢ºèªã—ãŸã€‚ä¿¡ç”¨+1' },
      { text: 'å¾Œã§å¯¾å¿œã™ã‚‹', effect: { },
        successText: 'ä»Šã¯å¿™ã—ã„â€¦ã§ã‚‚ã„ãšã‚Œå¯¾å¿œã—ãªã„ã¨ã€‚' },
    ],
  },
  {
    id: 'ev_first_settlement',
    period: 1, month: 12,
    title: 'ðŸ“ˆ åˆã‚ã¦ã®æ±ºç®—',
    text: '1å¹´ç›®ã®æ±ºç®—ãŒè¿‘ã¥ã„ã¦ããŸã€‚å£²ä¸Šã€çµŒè²»ã€ç¨Žé‡‘â€¦å…¨éƒ¨æŠŠæ¡ã§ãã¦ã‚‹ï¼Ÿ',
    choices: [
      { text: 'è‡ªåˆ†ã§é ‘å¼µã‚‹ï¼ˆä½“åŠ›-3ï¼‰', effect: { hpCost: 3 },
        successText: 'å¾¹å¤œã§å¸³ç°¿ã¨æ ¼é—˜â€¦ãªã‚“ã¨ã‹æ•°å­—ã‚’ã¾ã¨ã‚ãŸã€‚' },
      { text: 'ç¨Žç†å£«ã«ç›¸è«‡', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ç¨Žç†å£«ã€Œå¤§ä¸ˆå¤«ã§ã™ã€ä¸€ç·’ã«ç¢ºèªã—ã¾ã—ã‚‡ã†ã€å¿ƒå¼·ã„ã€‚'
          : 'ç¨Žç†å£«ãŒã„ãªã„â€¦æ¥å¹´ã“ãã¯å¥‘ç´„ã—ã‚ˆã†ã€‚' },
    ],
  },

  // --- å¾“æ¥­å“¡ã‚¤ãƒ™ãƒ³ãƒˆ ---
  {
    id: 'ev_emp_praise',
    period: 2, month: 2,
    title: 'ðŸ‘ å¾“æ¥­å“¡ãŒå¥½èª¿',
    text: 'å¾“æ¥­å“¡ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒé«˜ã„ã€‚ã€Œã“ã®ä¼šç¤¾ã§åƒã‘ã¦è‰¯ã‹ã£ãŸã€ã¨è¨€ã£ã¦ãã‚ŒãŸã€‚',
    condition: (state) => state.employees.some(e => e.satisfaction >= 80),
    choices: [
      { text: 'æ„Ÿè¬ã‚’ä¼ãˆã‚‹', effect: { satisfactionUp: 5 },
        successText: 'ã€Œã“ã‚Œã‹ã‚‰ã‚‚ä¸€ç·’ã«é ‘å¼µã‚ã†ã€æº€è¶³åº¦+5' },
      { text: 'è‡¨æ™‚ãƒœãƒ¼ãƒŠã‚¹ã‚’å‡ºã™ï¼ˆÆ³50,000ï¼‰', effect: { cost: 50000, satisfactionUp: 15 },
        successText: 'ã€Œç¤¾é•·ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€æº€è¶³åº¦+15' },
    ],
  },
  {
    id: 'ev_emp_complaint',
    period: 2, month: 5,
    title: 'ðŸ˜Ÿ å¾“æ¥­å“¡ã®ä¸æº€',
    text: 'å¾“æ¥­å“¡ãŒæµ®ã‹ãªã„é¡”ã‚’ã—ã¦ã„ã‚‹ã€‚ã€Œã¡ã‚‡ã£ã¨è©±ãŒã‚ã‚‹ã‚“ã§ã™ãŒâ€¦ã€',
    condition: (state) => state.employees.some(e => e.satisfaction < 40),
    choices: [
      { text: 'è©±ã‚’èžã', effect: { hpCost: 1, satisfactionUp: 10 },
        successText: 'ä¸æº€ã‚’èžã„ã¦æ”¹å–„ã‚’ç´„æŸã—ãŸã€‚å°‘ã—å®‰å¿ƒã—ãŸã‚ˆã†ã ã€‚æº€è¶³åº¦+10' },
      { text: 'ä»Šã¯å¿™ã—ã„ã¨ä¼ãˆã‚‹', effect: { satisfactionDown: 10 },
        successText: 'ã€Œâ€¦ã‚ã‹ã‚Šã¾ã—ãŸã€ã•ã‚‰ã«ä¸æº€ãŒæºœã¾ã£ãŸã‚ˆã†ã ã€‚æº€è¶³åº¦-10' },
    ],
  },

  // --- 2æœŸ ---
  {
    id: 'ev_2nd_year_start',
    period: 2, month: 1,
    title: 'ðŸŽŠ 2å¹´ç›®ã‚¹ã‚¿ãƒ¼ãƒˆ',
    text: 'ä¼šç¤¾è¨­ç«‹ã‹ã‚‰1å¹´ãŒçµŒã£ãŸã€‚ãªã‚“ã¨ã‹ç”Ÿãå»¶ã³ãŸï¼ã§ã‚‚ã€ã¾ã ã¾ã ã“ã‚Œã‹ã‚‰ã ã€‚',
    choices: [
      { text: 'æ°—ã‚’å¼•ãç· ã‚ã¦é ‘å¼µã‚‹', effect: { hpRecover: 2 },
        successText: '1å¹´ã®çµŒé¨“ã‚’ç³§ã«ã€2å¹´ç›®ã‚‚é§†ã‘æŠœã‘ã‚ˆã†ã€‚ä½“åŠ›+2' },
      { text: 'å°‘ã—ä¼‘æ¯ã‚’å–ã‚‹', effect: { hpRecover: 3, creditBonus: -1 },
        successText: 'ãŸã¾ã«ã¯æ¯æŠœãã‚‚å¤§äº‹ã€‚ä½“åŠ›+3ã€ã§ã‚‚å°‘ã—ãƒ€ãƒ©ã‘ãŸã€‚ä¿¡ç”¨-1' },
    ],
  },
  {
    id: 'ev_salary_negotiation',
    period: 2, month: 3,
    title: 'ðŸ’¬ å¾“æ¥­å“¡ã‹ã‚‰çµ¦æ–™äº¤æ¸‰',
    text: 'ã€Œç¤¾é•·ã€ã¡ã‚‡ã£ã¨ãŠè©±ãŒâ€¦ã€',
    condition: (state) => state.employees.length > 0,
    choices: [
      { text: 'æœˆÆ³20,000ä¸Šã’ã‚‹', effect: { salaryUp: 20000, satisfactionUp: 15 }, successText: 'å¬‰ã—ãã†ã ã€‚ã‚„ã‚‹æ°—ã‚‚ä¸ŠãŒã£ãŸã¿ãŸã„ã€‚' },
      { text: 'ä»Šã¯åŽ³ã—ã„ã¨ä¼ãˆã‚‹', effect: { satisfactionDown: 10 }, successText: 'ã€Œã‚ã‹ã‚Šã¾ã—ãŸâ€¦ã€å°‘ã—ä¸æº€ãã†ã ã€‚' },
      { text: 'è³žä¸Žã§å¯¾å¿œã™ã‚‹ã¨ç´„æŸ', effect: { satisfactionUp: 5 }, successText: 'ã€ŒæœŸå¾…ã—ã¦ã¾ã™ï¼ã€â€¦ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã ã€‚' },
    ],
  },
  {
    id: 'ev_repeat_client',
    period: 2, month: 4,
    title: 'ðŸ”„ ãƒªãƒ”ãƒ¼ãƒˆä¾é ¼',
    text: 'ä»¥å‰ã®å–å¼•å…ˆã‹ã‚‰ã€Œã¾ãŸé ¼ã¿ãŸã„ã€ã¨é€£çµ¡ãŒæ¥ãŸï¼ä¿¡é ¼ã®è¨¼ã ã€‚',
    condition: (state) => state.totalRevenue > 500000,
    choices: [
      { text: 'å–œã‚“ã§å¼•ãå—ã‘ã‚‹', effect: { projectDirect: true, tier: 1, creditBonus: 2 },
        successText: 'ãƒªãƒ”ãƒ¼ãƒˆæ¡ˆä»¶ã‚’å—æ³¨ï¼ã‚„ã£ã±ã‚Šå¬‰ã—ã„ã€‚ä¿¡ç”¨+2' },
      { text: 'å°‘ã—å€¤ä¸Šã’ã‚’ææ¡ˆã—ã¦ã¿ã‚‹', effect: { successChance: 0.6, projectDirect: true, tier: 2, creditBonus: 1 },
        successText: 'ã€Œã‚ã‹ã‚Šã¾ã—ãŸã€ãã‚Œã§ãŠé¡˜ã„ã—ã¾ã™ã€å˜ä¾¡ã‚¢ãƒƒãƒ—æˆåŠŸï¼',
        failText: 'ã€Œã†ãƒ¼ã‚“ã€å‰ã¨åŒã˜é‡‘é¡ã§ãŠé¡˜ã„ã§ãã¾ã›ã‚“ã‹ã€çµå±€æ®ãˆç½®ãã€‚' },
    ],
  },
  {
    id: 'ev_late_payment',
    period: 2, month: 6,
    title: 'âš ï¸ å…¥é‡‘ãŒé…ã‚Œã¦ã„ã‚‹ï¼',
    text: 'å…ˆæœˆç´å“ã—ãŸæ¡ˆä»¶ã®å…¥é‡‘ãŒæ¥ãªã„ã€‚å‚¬ä¿ƒã™ã‚‹ã‹ï¼Ÿ',
    choices: [
      { text: 'ã‚„ã‚“ã‚ã‚Šå‚¬ä¿ƒ', effect: { successChance: 0.6 },
        successText: 'ã€Œã™ã¿ã¾ã›ã‚“ã€æ¥é€±æŒ¯ã‚Šè¾¼ã¿ã¾ã™ã€ç„¡äº‹å…¥é‡‘ã•ã‚ŒãŸã€‚',
        failText: 'ã€Œã‚‚ã†å°‘ã—å¾…ã£ã¦ãã ã•ã„ã€â€¦æ¥æœˆã«æŒã¡è¶Šã—ã€‚' },
      { text: 'å¼·ã‚ã«å‚¬ä¿ƒ', effect: { successChance: 0.85, creditEffect: -2 },
        successText: 'ç¿Œæ—¥å…¥é‡‘ã•ã‚ŒãŸã€‚ãŸã ã—é–¢ä¿‚ã¯å°‘ã—æ‚ªåŒ–ã€‚',
        failText: 'é€†ã‚®ãƒ¬ã•ã‚ŒãŸã€‚ã€Œã‚‚ã†ãŠå®…ã«ã¯é ¼ã¾ãªã„ã€ä¿¡ç”¨-2' },
      { text: 'å¾…ã¤', effect: { delayMonths: 1 },
        successText: 'ç¿Œæœˆã€ç„¡äº‹ã«å…¥é‡‘ã•ã‚ŒãŸã€‚ãƒ›ãƒƒã¨ã—ãŸã€‚' },
    ],
  },
  {
    id: 'ev_client_unreasonable',
    period: 2, month: 7,
    title: 'ðŸ˜¤ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç„¡èŒ¶æŒ¯ã‚Š',
    text: 'ã€Œã“ã‚Œã€æ˜Žæ—¥ã¾ã§ã«ã§ãã¾ã›ã‚“ã‹ï¼Ÿã€æ€¥ãªä¾é ¼ãŒé£›ã³è¾¼ã‚“ã§ããŸã€‚å—ã‘ã‚‹ï¼Ÿ',
    choices: [
      { text: 'å¾¹å¤œã§å¯¾å¿œã™ã‚‹ï¼ˆä½“åŠ›-4ï¼‰', effect: { hpCost: 4, cashInflow: 80000, creditBonus: 3 },
        successText: 'é–“ã«åˆã£ãŸï¼ã€ŒåŠ©ã‹ã‚Šã¾ã—ãŸï¼ã€å ±é…¬+ç‰¹æ€¥æ–™é‡‘ã€‚ä½“åŠ›-4ã€å£²ä¸Š+Â¥80,000ã€ä¿¡ç”¨+3' },
      { text: 'ä¸é‡ã«æ–­ã‚‹', effect: { creditBonus: -1 },
        successText: 'ã€Œãã†ã§ã™ã‹â€¦æ®‹å¿µã§ã™ã€é–¢ä¿‚ãŒå°‘ã—å†·ãˆãŸã€‚ä¿¡ç”¨-1' },
      { text: 'ä»£ã‚ã‚Šã®ææ¡ˆã‚’ã™ã‚‹', effect: { successChance: 0.5, creditBonus: 1 },
        successText: 'ã€Œ3æ—¥å¾Œãªã‚‰å¯¾å¿œå¯èƒ½ã§ã™ã€â†’ã€Œãã‚Œã§ãŠé¡˜ã„ã—ã¾ã™ï¼ã€ä¿¡ç”¨+1',
        failText: 'ã€Œãã‚Œã ã¨é–“ã«åˆã‚ãªã„ã‚“ã§ã™â€¦ã€ä»–ã«é ¼ã‚€ã“ã¨ã«ãªã£ãŸã€‚' },
    ],
  },
  {
    id: 'ev_skill_gap',
    period: 2, month: 8,
    title: 'ðŸ“š ã‚¹ã‚­ãƒ«ä¸è¶³ã‚’ç—›æ„Ÿ',
    text: 'æ¡ˆä»¶ã®è¦ä»¶ãŒè‡ªåˆ†ã®æŠ€è¡“ãƒ¬ãƒ™ãƒ«ã‚’è¶…ãˆã¦ã„ã‚‹â€¦ã€‚ã©ã†ã™ã‚‹ï¼Ÿ',
    choices: [
      { text: 'å‹‰å¼·ã—ãªãŒã‚‰é ‘å¼µã‚‹ï¼ˆä½“åŠ›-3ï¼‰', effect: { hpCost: 3, skillUp: true },
        successText: 'è‹¦åŠ´ã—ãŸãŒã€æ–°ã—ã„æŠ€è¡“ã‚’ç¿’å¾—ã§ããŸï¼æˆé•·ã‚’æ„Ÿã˜ã‚‹ã€‚' },
      { text: 'å¤–æ³¨ã«ä¸€éƒ¨ä¾é ¼ã™ã‚‹ï¼ˆÆ³50,000ï¼‰', effect: { cost: 50000 },
        successText: 'è©³ã—ã„äººã«ä»»ã›ãŸéƒ¨åˆ†ã¯ã‚¯ã‚ªãƒªãƒ†ã‚£é«˜ã„ã€‚ã“ã‚Œã‚‚ã‚¢ãƒªã ã€‚' },
      { text: 'æ­£ç›´ã«ä¼ãˆã¦åˆ¥ã®ææ¡ˆã‚’ã™ã‚‹', effect: { creditBonus: 1 },
        successText: 'èª å®Ÿã•ãŒè©•ä¾¡ã•ã‚ŒãŸã€‚ã€Œæ­£ç›´ã«è¨€ã£ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€ä¿¡ç”¨+1' },
    ],
  },
  {
    id: 'ev_former_colleague',
    period: 2, month: 9,
    title: 'ðŸ» å…ƒåŒåƒšã‹ã‚‰ã®é€£çµ¡',
    text: 'å‰è·ã®åŒåƒšã‹ã‚‰ã€Œæœ€è¿‘ã©ã†ï¼Ÿé£²ã‚‚ã†ã‚ˆã€ã¨é€£çµ¡ãŒæ¥ãŸã€‚',
    choices: [
      { text: 'é£²ã¿ã«è¡Œã', effect: { hpCost: 1, creditBonus: 2, referralChance: true },
        successText: 'æƒ…å ±äº¤æ›ãŒã§ããŸã€‚ã€Œä»Šåº¦ä»•äº‹ç´¹ä»‹ã™ã‚‹ã‚ˆã€ã¨è¨€ã£ã¦ã‚‚ã‚‰ãˆãŸã€‚ä¿¡ç”¨+2' },
      { text: 'å¿™ã—ã„ã¨æ–­ã‚‹', effect: {},
        successText: 'ä»Šã¯ä»•äº‹ã«é›†ä¸­ã—ã‚ˆã†ã€‚ã¾ãŸä»Šåº¦ã€‚' },
    ],
  },
  {
    id: 'ev_accounting_mess',
    period: 2, month: 10,
    title: 'ðŸ“’ å¸³ç°¿ãŒãã¡ã‚ƒãã¡ã‚ƒ',
    text: 'ãƒ¬ã‚·ãƒ¼ãƒˆã®å±±ã€æœªå…¥åŠ›ã®çµŒè²»â€¦ã€‚ã“ã®ã¾ã¾ã§ã¯æ±ºç®—ãŒå¤§å¤‰ã ã€‚',
    condition: (state) => state.accountant === 'none',
    choices: [
      { text: 'é€±æœ«ã‚’æ½°ã—ã¦æ•´ç†ã™ã‚‹ï¼ˆä½“åŠ›-3ï¼‰', effect: { hpCost: 3 },
        successText: 'ä¸¸2æ—¥ã‹ã‹ã£ãŸãŒã€ãªã‚“ã¨ã‹æ•´ç†ã§ããŸâ€¦ç–²ã‚ŒãŸã€‚' },
      { text: 'ç¨Žç†å£«ã¨å¥‘ç´„ã™ã‚‹ã“ã¨ã‚’æ¤œè¨Ž', effect: {},
        successText: 'ã“ã®ã¾ã¾ã§ã¯æ¯Žå¹´ã“ã®è‹¦åŠ´ãŒç¶šãã€‚æ¥æœŸã“ãã¯ç¨Žç†å£«ã‚’â€¦' },
    ],
  },
  {
    id: 'ev_price_competition',
    period: 2, month: 11,
    title: 'ðŸ’¸ ä¾¡æ ¼ç«¶äº‰ã«å·»ãè¾¼ã¾ã‚Œã‚‹',
    text: 'ã‚³ãƒ³ãƒšã§è² ã‘ãŸã€‚ç†ç”±ã¯ã€Œä»–ç¤¾ã®æ–¹ãŒå®‰ã‹ã£ãŸã‹ã‚‰ã€ã€‚å˜ä¾¡ã‚’ä¸‹ã’ã‚‹ã¹ãï¼Ÿ',
    choices: [
      { text: 'ä¾¡æ ¼ã§å‹è² ã™ã‚‹', effect: { projectDirect: true, tier: 0, creditBonus: -1 },
        successText: 'å®‰ã„æ¡ˆä»¶ã‚’å—æ³¨ã€‚ã§ã‚‚ã€ã“ã‚Œã§ã„ã„ã®ã‹â€¦ï¼Ÿä¿¡ç”¨-1' },
      { text: 'å“è³ªã§å·®åˆ¥åŒ–ã‚’ç›®æŒ‡ã™', effect: { creditBonus: 2 },
        successText: 'å®‰å£²ã‚Šã¯ã—ãªã„ã€‚ä¾¡å€¤ã‚’èªã‚ã¦ãã‚Œã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æŽ¢ãã†ã€‚ä¿¡ç”¨+2' },
    ],
  },
  {
    id: 'ev_2nd_settlement',
    period: 2, month: 12,
    title: 'ðŸ“Š 2æœŸç›®ã®æ±ºç®—',
    text: '2å¹´ç›®ã®æ±ºç®—æœŸã€‚åŽ»å¹´ã‚ˆã‚Šå£²ä¸Šã¯ä¼¸ã³ãŸï¼ŸçµŒè²»ã¯é©æ­£ï¼Ÿ',
    choices: [
      { text: 'æ•°å­—ã‚’æŒ¯ã‚Šè¿”ã‚‹', effect: { hpCost: 1 },
        successText: state => state.totalRevenue > 3000000
          ? 'å£²ä¸Š300ä¸‡å††è¶…ãˆï¼é †èª¿ã«æˆé•·ã—ã¦ã„ã‚‹ã€‚'
          : 'åŽ³ã—ã„1å¹´ã ã£ãŸã€‚æ¥æœŸã“ãã¯ã€‚' },
      { text: 'ç¨Žç†å£«ã«ä»»ã›ã‚‹', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ã€Œä»Šå¹´ã‚‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€ãƒ—ãƒ­ã«ä»»ã›ã‚‹ã¨å®‰å¿ƒã ã€‚'
          : 'ç¨Žç†å£«ãŒã„ãªã„ã®ã§è‡ªåˆ†ã§ã‚„ã‚‹ã—ã‹ãªã„â€¦' },
    ],
  },

  // --- 3æœŸ ---
  {
    id: 'ev_3rd_year_start',
    period: 3, month: 1,
    title: 'ðŸš€ 3å¹´ç›®çªå…¥',
    text: '3å¹´ç›®ã€‚ã“ã“ã¾ã§æ¥ã‚Œã°ã€Œèµ·æ¥­ã—ã¦å¤±æ•—ã€ã¨ã¯è¨€ã‚ã›ãªã„ã€‚',
    choices: [
      { text: 'ã•ã‚‰ãªã‚‹æˆé•·ã‚’ç›®æŒ‡ã™', effect: { hpRecover: 1, creditBonus: 2 },
        successText: 'æ”»ã‚ã®å§¿å‹¢ã§è¡Œã“ã†ã€‚ä¿¡ç”¨+2' },
      { text: 'å®‰å®šçµŒå–¶ã‚’å¿ƒãŒã‘ã‚‹', effect: { hpRecover: 2 },
        successText: 'ç„¡ç†ã›ãšç€å®Ÿã«ã€‚ä½“åŠ›+2' },
    ],
  },
  {
    id: 'ev_consumption_tax',
    period: 3, month: 2,
    title: 'ðŸ’° æ¶ˆè²»ç¨Žã®ç´ç¨Žç¾©å‹™',
    text: 'å£²ä¸ŠãŒ1,000ä¸‡å††ã‚’è¶…ãˆãŸâ€¦ã¤ã¾ã‚Šã€æ¥æœŸã‹ã‚‰æ¶ˆè²»ç¨Žã®ç´ç¨Žç¾©å‹™ãŒç™ºç”Ÿã™ã‚‹ï¼',
    condition: (state) => state.totalRevenue > 10000000,
    choices: [
      { text: 'ç¨Žç†å£«ã«ç›¸è«‡ã™ã‚‹', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ã€Œã‚¤ãƒ³ãƒœã‚¤ã‚¹åˆ¶åº¦ã®æº–å‚™ã‚‚å¿…è¦ã§ã™ã­ã€å¿ƒå¼·ã„ã€‚'
          : 'ç¨Žç†å£«ãŒã„ãªã„ã€‚è‡ªåˆ†ã§èª¿ã¹ã‚‹ã—ã‹ãªã„â€¦' },
      { text: 'è‡ªåˆ†ã§å‹‰å¼·ã™ã‚‹ï¼ˆä½“åŠ›-2ï¼‰', effect: { hpCost: 2 },
        successText: 'æ¶ˆè²»ç¨Žã®ä»•çµ„ã¿ã‚’ç†è§£ã—ãŸã€‚ç°¡æ˜“èª²ç¨Žã‹æœ¬å‰‡èª²ç¨Žã‹ã€é¸æŠžãŒå¿…è¦ã ã€‚' },
    ],
  },
  {
    id: 'ev_competitor_appears',
    period: 3, month: 3,
    title: 'âš”ï¸ å¼·åŠ›ãªç«¶åˆå‡ºç¾',
    text: 'åŒã˜åœ°åŸŸã§ã€ä¼¼ãŸã‚ˆã†ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’å§‹ã‚ãŸä¼šç¤¾ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚ã—ã‹ã‚‚å®‰ã„â€¦',
    choices: [
      { text: 'å·®åˆ¥åŒ–ã§å‹è² ã™ã‚‹', effect: { creditBonus: 3, hpCost: 2 },
        successText: 'è‡ªåˆ†ãŸã¡ã®å¼·ã¿ã‚’æ´»ã‹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’æ‰“ã¡å‡ºã—ãŸã€‚ä¿¡ç”¨+3' },
      { text: 'ã‚ãˆã¦å”æ¥­ã‚’ææ¡ˆã™ã‚‹', effect: { successChance: 0.4, creditBonus: 5 },
        successText: 'ã€Œä¸€ç·’ã«ã‚„ã‚Šã¾ã›ã‚“ã‹ï¼Ÿã€â†’ æ„å¤–ã«ã‚‚å¥½æ„Ÿè§¦ï¼å°†æ¥çš„ãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã«ãªã‚Šãã†ã ã€‚ä¿¡ç”¨+5',
        failText: 'ã€Œã„ã‚„ã€ã†ã¡ã¯ã†ã¡ã§ã‚„ã‚Šã¾ã™ã®ã§ã€å†·ãŸãæ–­ã‚‰ã‚ŒãŸã€‚' },
      { text: 'æ°—ã«ã›ãšè‡ªåˆ†ã®é“ã‚’è¡Œã', effect: {},
        successText: 'ç«¶åˆã¯æ°—ã«ã—ãªã„ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ã‚„ã‚ã†ã€‚' },
    ],
  },
  {
    id: 'ev_big_project',
    period: 3, month: 4,
    title: 'ðŸ¢ å¤§æ‰‹ä¼æ¥­ã‹ã‚‰å•ã„åˆã‚ã›ï¼',
    text: 'ãƒˆãƒ¼ã‚­ãƒ§åŒºã®å¤§æ‰‹ä¼æ¥­ã‹ã‚‰ã€Œã‚µã‚¤ãƒˆãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã®è¦‹ç©ã‚‚ã‚Šã‚’ã€ã¨é€£çµ¡ãŒæ¥ãŸï¼å¤§ããªãƒãƒ£ãƒ³ã‚¹ã ãŒâ€¦',
    choices: [
      { text: 'å…¨åŠ›ã§ææ¡ˆã™ã‚‹ï¼ˆä½“åŠ›-4ï¼‰', effect: { hpCost: 4, projectChance: 0.5, bigProject: true },
        successText: 'å—æ³¨æˆåŠŸï¼å ±é…¬Æ³2,000,000ã®å¤§åž‹æ¡ˆä»¶ã ï¼',
        failText: 'æƒœã—ãã‚‚è½é¸ã€‚ã€Œã¾ãŸã®æ©Ÿä¼šã«ã€â€¦ã§ã‚‚è‰¯ã„çµŒé¨“ã«ãªã£ãŸã€‚ä¿¡ç”¨+3' },
      { text: 'ç„¡ç†ã›ãšæ–­ã‚‹', effect: { hpCost: 0 },
        successText: 'èº«ã®ä¸ˆã«åˆã£ãŸä»•äº‹ã‚’ã—ã‚ˆã†ã€‚å …å®Ÿã ã€‚' },
    ],
  },
  {
    id: 'ev_office_move',
    period: 3, month: 5,
    title: 'ðŸ  ã‚ªãƒ•ã‚£ã‚¹ç§»è»¢ã®æ¤œè¨Ž',
    text: 'ä»Šã®ä½œæ¥­ç’°å¢ƒãŒæ‰‹ç‹­ã«ãªã£ã¦ããŸã€‚å¼•ã£è¶Šã—ã‚’æ¤œè¨Žã™ã¹ãï¼Ÿ',
    condition: (state) => state.employees.length >= 1,
    choices: [
      { text: 'åºƒã„ã‚ªãƒ•ã‚£ã‚¹ã«ç§»è»¢ï¼ˆÆ³300,000 + å®¶è³ƒUPï¼‰', effect: { cost: 300000, monthlyExpenseUp: 50000, satisfactionUp: 10, creditBonus: 3 },
        successText: 'æ–°ã—ã„ã‚ªãƒ•ã‚£ã‚¹ã¯åºƒãã¦å¿«é©ï¼ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã£ãŸã€‚ä¿¡ç”¨+3' },
      { text: 'ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹ã‚’ä½µç”¨', effect: { cost: 50000, monthlyExpenseUp: 20000 },
        successText: 'å¿…è¦ãªæ™‚ã ã‘åºƒã„å ´æ‰€ã‚’ä½¿ãˆã‚‹ã€‚åŠ¹çŽ‡çš„ã ã€‚' },
      { text: 'ä»Šã®ã¾ã¾å·¥å¤«ã™ã‚‹', effect: { hpCost: 1 },
        successText: 'ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å·¥å¤«ã—ã¦ä¹—ã‚Šåˆ‡ã‚ã†ã€‚' },
    ],
  },
  {
    id: 'ev_media_coverage',
    period: 3, month: 6,
    title: 'ðŸ“º ãƒ¡ãƒ‡ã‚£ã‚¢ã‹ã‚‰å–æä¾é ¼',
    text: 'åœ°å…ƒã®Webãƒ¡ãƒ‡ã‚£ã‚¢ã‹ã‚‰ã€Œè‹¥æ‰‹èµ·æ¥­å®¶ã¨ã—ã¦å–æã•ã›ã¦ãã ã•ã„ã€ã¨é€£çµ¡ãŒæ¥ãŸï¼',
    choices: [
      { text: 'å–æã‚’å—ã‘ã‚‹', effect: { creditBonus: 5, hpCost: 1 },
        successText: 'è¨˜äº‹ãŒå…¬é–‹ã•ã‚ŒãŸï¼å•ã„åˆã‚ã›ãŒå¢—ãˆãŸã€‚ä¿¡ç”¨+5' },
      { text: 'æ–­ã‚‹', effect: {},
        successText: 'ä»Šã¯ä»•äº‹ã«é›†ä¸­ã—ã‚ˆã†ã€‚ãƒ¡ãƒ‡ã‚£ã‚¢éœ²å‡ºã¯å¾Œã§ã„ã„ã€‚' },
    ],
  },
  {
    id: 'ev_subcontract_quality',
    period: 3, month: 7,
    title: 'ðŸ˜° å¤–æ³¨å…ˆã®å“è³ªå•é¡Œ',
    text: 'å¤–æ³¨ã«å‡ºã—ã¦ã„ãŸéƒ¨åˆ†ã®å“è³ªãŒã‚¤ãƒžã‚¤ãƒâ€¦ç´æœŸã‚‚è¿«ã£ã¦ã„ã‚‹ã€‚',
    condition: (state) => state.employees.length >= 1 || state.totalRevenue > 3000000,
    choices: [
      { text: 'è‡ªåˆ†ã§ä¿®æ­£ã™ã‚‹ï¼ˆä½“åŠ›-4ï¼‰', effect: { hpCost: 4 },
        successText: 'å¾¹å¤œã§ä¿®æ­£ã€‚ãªã‚“ã¨ã‹é–“ã«åˆã£ãŸâ€¦ã§ã‚‚äºŒåº¦ã¨ã‚ãã“ã«ã¯é ¼ã¾ãªã„ã€‚' },
      { text: 'å¤–æ³¨å…ˆã«ã‚„ã‚Šç›´ã—ã‚’è¦æ±‚', effect: { successChance: 0.5, hpCost: 1 },
        successText: 'ã€Œã™ã¿ã¾ã›ã‚“ã€ä¿®æ­£ã—ã¾ã™ã€ãªã‚“ã¨ã‹å¯¾å¿œã—ã¦ã‚‚ã‚‰ãˆãŸã€‚',
        failText: 'ã€Œã“ã‚Œä»¥ä¸Šã¯ç„¡ç†ã§ã™ã€çµå±€è‡ªåˆ†ã§ä¿®æ­£ã™ã‚‹ã“ã¨ã«â€¦ä½“åŠ›-3' },
      { text: 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æ­£ç›´ã«ç›¸è«‡', effect: { creditBonus: -2, hpCost: 0 },
        successText: 'ç´æœŸã‚’å°‘ã—å»¶ã°ã—ã¦ã‚‚ã‚‰ãˆãŸã€‚ã§ã‚‚ä¿¡é ¼ã¯ä¸‹ãŒã£ãŸâ€¦ä¿¡ç”¨-2' },
    ],
  },
  {
    id: 'ev_employee_growth',
    period: 3, month: 8,
    title: 'ðŸŒ± å¾“æ¥­å“¡ã®æˆé•·',
    text: 'å¾“æ¥­å“¡ãŒã€Œæ–°ã—ã„æŠ€è¡“ã‚’å‹‰å¼·ã—ãŸã„ã‚“ã§ã™ãŒã€ã¨è¨€ã£ã¦ããŸã€‚',
    condition: (state) => state.employees.length > 0,
    choices: [
      { text: 'ç ”ä¿®è²»ç”¨ã‚’å‡ºã™ï¼ˆÆ³100,000ï¼‰', effect: { cost: 100000, satisfactionUp: 20, employeeSkillUp: true },
        successText: 'ã€Œã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã€æ„æ¬²çš„ã«å­¦ã‚“ã§ã„ã‚‹ã€‚æº€è¶³åº¦+20' },
      { text: 'æ¥­å‹™æ™‚é–“å†…ã®å‹‰å¼·ã‚’è¨±å¯', effect: { satisfactionUp: 10 },
        successText: 'ã€Œè‡ªåˆ†ã§é ‘å¼µã‚Šã¾ã™ï¼ã€è‡ªå·±æˆé•·æ„æ¬²ãŒé«˜ã„ã€‚æº€è¶³åº¦+10' },
      { text: 'ä»Šã¯ä»•äº‹ã«é›†ä¸­ã—ã¦ã»ã—ã„ã¨ä¼ãˆã‚‹', effect: { satisfactionDown: 5 },
        successText: 'ã€Œâ€¦ã‚ã‹ã‚Šã¾ã—ãŸã€å°‘ã—æ®‹å¿µãã†ã ã€‚' },
    ],
  },
  {
    id: 'ev_legal_trouble',
    period: 3, month: 9,
    title: 'âš–ï¸ å¥‘ç´„ãƒˆãƒ©ãƒ–ãƒ«ç™ºç”Ÿ',
    text: 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã€Œå¥‘ç´„å†…å®¹ã¨é•ã†ã€ã¨ã‚¯ãƒ¬ãƒ¼ãƒ ãŒâ€¦ã€‚å¥‘ç´„æ›¸ã®æ–‡è¨€ãŒæ›–æ˜§ã ã£ãŸã€‚',
    choices: [
      { text: 'å¼è­·å£«ã«ç›¸è«‡ã™ã‚‹ï¼ˆÆ³50,000ï¼‰', effect: { cost: 50000, creditBonus: 1 },
        successText: 'å°‚é–€å®¶ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã§ç©ä¾¿ã«è§£æ±ºã€‚ä»Šå¾Œã¯å¥‘ç´„æ›¸ã‚’ã—ã£ã‹ã‚Šä½œã‚ã†ã€‚' },
      { text: 'èª æ„ã‚’æŒã£ã¦äº¤æ¸‰ã™ã‚‹', effect: { hpCost: 2, successChance: 0.6 },
        successText: 'ã€Œã‚ã‹ã‚Šã¾ã—ãŸã€ãã“ã¾ã§è¨€ã†ãªã‚‰ã€ãªã‚“ã¨ã‹åŽæŸã—ãŸã€‚',
        failText: 'äº¤æ¸‰æ±ºè£‚â€¦è¿½åŠ ä½œæ¥­ã‚’ç„¡å„Ÿã§è¡Œã†ã“ã¨ã«ã€‚ä½“åŠ›-2' },
    ],
  },
  {
    id: 'ev_burnout_sign',
    period: 3, month: 10,
    title: 'ðŸ˜« ç‡ƒãˆå°½ãç—‡å€™ç¾¤ã®å…†å€™',
    text: 'æœ€è¿‘ã€ä»•äº‹ã¸ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¸ŠãŒã‚‰ãªã„ã€‚ç–²ã‚ŒãŒæºœã¾ã£ã¦ã„ã‚‹ã®ã‹â€¦',
    condition: (state) => state.hp <= 3,
    choices: [
      { text: 'æ€ã„åˆ‡ã£ã¦ä¼‘æš‡ã‚’å–ã‚‹', effect: { hpRecover: 4, cost: 30000 },
        successText: '2æ³Š3æ—¥ã®æ¸©æ³‰æ—…è¡Œã€‚ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ããŸï¼ä½“åŠ›+4' },
      { text: 'è¶£å‘³ã®æ™‚é–“ã‚’å¢—ã‚„ã™', effect: { hpRecover: 2 },
        successText: 'é€±æœ«ã¯è¶£å‘³ã«æ²¡é ­ã€‚å°‘ã—æ°—åˆ†è»¢æ›ã«ãªã£ãŸã€‚ä½“åŠ›+2' },
      { text: 'æ°—åˆã„ã§ä¹—ã‚Šåˆ‡ã‚‹', effect: { hpCost: 1, creditBonus: 1 },
        successText: 'æ­¯ã‚’é£Ÿã„ã—ã°ã£ã¦åƒã„ãŸã€‚æˆæžœã¯å‡ºãŸãŒâ€¦ä½“ã¯é™ç•Œã«è¿‘ã„ã€‚' },
    ],
  },
  {
    id: 'ev_3rd_settlement',
    period: 3, month: 12,
    title: 'ðŸ“ˆ 3æœŸç›®ã®æ±ºç®—',
    text: '3å¹´ç›®ã®æ±ºç®—ã€‚ä¼šç¤¾ã®æˆé•·ã‚’å®Ÿæ„Ÿã§ãã‚‹1å¹´ã ã£ãŸã‹ï¼Ÿ',
    choices: [
      { text: 'æ¥æœŸã®äº‹æ¥­è¨ˆç”»ã‚’ç·´ã‚‹', effect: { hpCost: 1, creditBonus: 2 },
        successText: '3å¹´é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã€‚æ¥æœŸã¯â—‹â—‹ã«æ³¨åŠ›ã—ã‚ˆã†ã€‚ä¿¡ç”¨+2' },
      { text: 'ç¨Žç†å£«ã¨ä»Šå¾Œã‚’ç›¸è«‡', effect: {},
        successText: state => state.accountant !== 'none'
          ? 'ã€Œé †èª¿ã§ã™ã­ã€‚ãã‚ãã‚æ³•äººæˆã‚Šã®æ¤œè¨Žã‚‚ã€æœ‰ç›Šãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã‚‚ã‚‰ã£ãŸã€‚'
          : 'ç¨Žç†å£«ãŒã„ãªã„ã€‚æ¥æœŸã“ãã¯å¥‘ç´„ã—ã‚ˆã†â€¦' },
    ],
  },

  // --- 4æœŸ ---
  {
    id: 'ev_4th_year_start',
    period: 4, month: 1,
    title: 'ðŸŽ¯ 4å¹´ç›®ã€å‹è² ã®å¹´',
    text: '4å¹´ç›®ã€‚ã‚‚ã¯ã‚„ã€Œæ–°äººç¤¾é•·ã€ã¨ã¯å‘¼ã°ã›ãªã„ã€‚',
    choices: [
      { text: 'è¦æ¨¡æ‹¡å¤§ã‚’ç›®æŒ‡ã™', effect: { creditBonus: 2 },
        successText: 'ã‚ˆã‚Šå¤§ããªä»•äº‹ã‚’å–ã‚Šã«è¡Œã“ã†ã€‚ä¿¡ç”¨+2' },
      { text: 'åˆ©ç›ŠçŽ‡ã®æ”¹å–„ã‚’ç›®æŒ‡ã™', effect: { hpRecover: 1 },
        successText: 'å£²ä¸Šã‚ˆã‚Šåˆ©ç›Šã€‚åŠ¹çŽ‡åŒ–ã‚’é€²ã‚ã‚ˆã†ã€‚' },
    ],
  },
  {
    id: 'ev_key_employee_headhunt',
    period: 4, month: 2,
    title: 'ðŸŽ¯ ã‚¨ãƒ¼ã‚¹ç¤¾å“¡ã®å¼•ãæŠœã',
    text: 'ä¸»åŠ›ã®å¾“æ¥­å“¡ã«ä»–ç¤¾ã‹ã‚‰å£°ãŒã‹ã‹ã£ãŸã‚‰ã—ã„â€¦è»¢è·ã‚’è€ƒãˆã¦ã„ã‚‹ã‚ˆã†ã ã€‚',
    condition: (state) => state.employees.some(e => e.skill >= 3),
    choices: [
      { text: 'çµ¦æ–™ã‚’ä¸Šã’ã¦å¼•ãç•™ã‚ã‚‹ï¼ˆæœˆ+Æ³50,000ï¼‰', effect: { salaryUp: 50000, satisfactionUp: 20 },
        successText: 'ã€Œç¤¾é•·ã®æ°—æŒã¡ãŒå¬‰ã—ã„ã§ã™ã€‚æ®‹ã‚Šã¾ã™ã€ãƒ›ãƒƒã¨ã—ãŸã€‚' },
      { text: 'ã‚„ã‚ŠãŒã„ã§èª¬å¾—ã™ã‚‹', effect: { successChance: 0.5, satisfactionUp: 10 },
        successText: 'ã€Œã“ã®ä¼šç¤¾ã§ã—ã‹ã§ããªã„çµŒé¨“ãŒã‚ã‚‹ã€â†’ ã€Œã‚ã‹ã‚Šã¾ã—ãŸï¼ã€',
        failText: 'ã€Œç”³ã—è¨³ãªã„ã§ã™ãŒâ€¦ã€é€€è·ã‚’æ±ºæ„ã•ã‚ŒãŸã€‚ãƒãƒ¼ãƒ ã«ç©´ãŒç©ºãã€‚' },
      { text: 'æœ¬äººã®æ„æ€ã‚’å°Šé‡ã™ã‚‹', effect: { employeeLeave: true },
        successText: 'ã€Œä»Šã¾ã§ã‚ã‚ŠãŒã¨ã†ã€‚é ‘å¼µã£ã¦ã€å††æº€é€€è·ã€‚ã§ã‚‚æˆ¦åŠ›ãƒ€ã‚¦ãƒ³ã¯ç—›ã„â€¦' },
    ],
  },
  {
    id: 'ev_client_bankruptcy',
    period: 4, month: 4,
    title: 'ðŸ’¥ å–å¼•å…ˆã®å€’ç”£',
    text: 'ä¸»è¦å–å¼•å…ˆãŒå€’ç”£ï¼å£²æŽ›é‡‘Æ³500,000ãŒå›žåŽä¸èƒ½ã«â€¦',
    condition: (state) => state.totalRevenue > 5000000,
    choices: [
      { text: 'å¼è­·å£«ã«ç›¸è«‡ã™ã‚‹ï¼ˆÆ³100,000ï¼‰', effect: { cost: 100000 },
        successText: 'é…å½“é‡‘ã¨ã—ã¦Æ³150,000ã ã‘å›žåŽã§ããŸã€‚ãªã„ã‚ˆã‚Šãƒžã‚·ã â€¦' },
      { text: 'è«¦ã‚ã¦å‰ã‚’å‘ã', effect: { hpCost: 2 },
        successText: 'Æ³500,000ã¯æŽˆæ¥­æ–™ã ã¨æ€ãŠã†ã€‚ãƒªã‚¹ã‚¯åˆ†æ•£ã®å¤§åˆ‡ã•ã‚’å­¦ã‚“ã ã€‚' },
    ],
  },
  {
    id: 'ev_new_service',
    period: 4, month: 5,
    title: 'ðŸ’¡ æ–°ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ã‚¤ãƒ‡ã‚¢',
    text: 'ãµã¨ã—ãŸãã£ã‹ã‘ã§ã€æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã‚“ã ï¼',
    choices: [
      { text: 'é–‹ç™ºã«ç€æ‰‹ã™ã‚‹ï¼ˆä½“åŠ›-3ã€Æ³200,000ï¼‰', effect: { hpCost: 3, cost: 200000, newServiceDev: true },
        successText: 'æ–°ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºé–‹å§‹ï¼å°†æ¥ã®æŸ±ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚' },
      { text: 'ã¾ãšã¯å¸‚å ´èª¿æŸ»', effect: { hpCost: 1 },
        successText: 'ãƒ‹ãƒ¼ã‚ºã‚’èª¿ã¹ã¦ã‹ã‚‰åˆ¤æ–­ã—ã‚ˆã†ã€‚å …å®Ÿã ã€‚' },
      { text: 'ä»Šã¯æœ¬æ¥­ã«é›†ä¸­', effect: {},
        successText: 'ã„ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã ãŒã€ä»Šã¯ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã˜ã‚ƒãªã„ã€‚ãƒ¡ãƒ¢ã ã‘ã—ã¦ãŠã“ã†ã€‚' },
    ],
  },
  {
    id: 'ev_large_contract',
    period: 4, month: 6,
    title: 'ðŸ“ å¹´é–“å¥‘ç´„ã®ææ¡ˆ',
    text: 'å¤§å£ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã€Œå¹´é–“ä¿å®ˆå¥‘ç´„ã‚’çµã³ãŸã„ã€ã¨ææ¡ˆãŒæ¥ãŸã€‚',
    condition: (state) => state.totalRevenue > 8000000,
    choices: [
      { text: 'å¥‘ç´„ã‚’çµã¶ï¼ˆå¹´Æ³2,400,000ä¿è¨¼ï¼‰', effect: { annualContract: true, creditBonus: 5 },
        successText: 'æœˆ20ä¸‡å††ã®å®‰å®šåŽå…¥ï¼çµŒå–¶ãŒå®‰å®šã™ã‚‹ã€‚ä¿¡ç”¨+5' },
      { text: 'æ¡ä»¶äº¤æ¸‰ã™ã‚‹', effect: { successChance: 0.6, annualContractPremium: true, creditBonus: 3 },
        successText: 'ã€Œå¹´Æ³3,000,000ã§ã„ã‹ãŒã§ã—ã‚‡ã†ã€â†’ã€Œã‚ã‹ã‚Šã¾ã—ãŸã€äº¤æ¸‰æˆåŠŸï¼',
        failText: 'ã€Œãã‚Œã¯åŽ³ã—ã„ã§ã™ã­â€¦ã€çµå±€å…ƒã®æ¡ä»¶ã§å¥‘ç´„ã€‚' },
    ],
  },
  {
    id: 'ev_tax_audit',
    period: 4, month: 8,
    title: 'ðŸ” ç¨Žå‹™èª¿æŸ»ã®é€šçŸ¥ãŒå±Šã„ãŸ',
    text: 'ç¨Žå‹™ç½²ã‹ã‚‰é€£çµ¡ãŒâ€¦ï¼ã€Œæ¥æœˆã€å¾¡ç¤¾ã®å¸³ç°¿ã‚’ç¢ºèªã•ã›ã¦ãã ã•ã„ã€',
    choices: [
      { text: 'ç¨Žç†å£«ã«ç›¸è«‡ã—ã¦æº–å‚™ã™ã‚‹', effect: {},
        successText: state => state.accountant !== 'none'
          ? `${DATA.ACCOUNTANTS[state.accountant].name}ã€Œå¤§ä¸ˆå¤«ã§ã™ã€ã—ã£ã‹ã‚Šæº–å‚™ã—ã¾ã—ã‚‡ã†ã€â†’ å•é¡Œãªãçµ‚äº†ã€‚`
          : 'ç¨Žç†å£«ãŒã„ãªã„ï¼è‡ªåˆ†ã§å¸³ç°¿ã‚’æ•´ç†ã™ã‚‹ã—ã‹ãªã„â€¦ï¼ˆä½“åŠ›-4ã€ãƒšãƒŠãƒ«ãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚ã‚Šï¼‰' },
      { text: 'ã¨ã‚Šã‚ãˆãšå¸³ç°¿ã‚’è¦‹ç›´ã™ï¼ˆä½“åŠ›-3ï¼‰', effect: { hpCost: 3, auditPenaltyChance: 0.3 },
        successText: 'ä½•ã¨ã‹ä¹—ã‚Šåˆ‡ã£ãŸã€‚ãƒ’ãƒ¤ãƒ’ãƒ¤ã—ãŸâ€¦',
        failText: 'çµŒè²»ã®ä¸€éƒ¨ãŒå¦èªã•ã‚ŒãŸã€‚è¿½å¾´èª²ç¨ŽÆ³150,000â€¦ç—›ã„ã€‚' },
    ],
  },
  {
    id: 'ev_industry_change',
    period: 4, month: 9,
    title: 'ðŸ”„ æ¥­ç•Œã®å¤‰åŒ–',
    text: 'AIãƒ„ãƒ¼ãƒ«ã®å°é ­ã§ã€æ¥­ç•Œã®å‹¢åŠ›å›³ãŒå¤‰ã‚ã‚Šã¤ã¤ã‚ã‚‹â€¦',
    choices: [
      { text: 'AIã‚’ç©æ¥µçš„ã«å–ã‚Šå…¥ã‚Œã‚‹', effect: { hpCost: 2, skillUp: true, creditBonus: 3 },
        successText: 'AIã‚’æ­¦å™¨ã«åŠ¹çŽ‡UPï¼æ™‚ä»£ã®æ³¢ã«ä¹—ã‚ŒãŸã€‚ä¿¡ç”¨+3' },
      { text: 'äººé–“ã«ã—ã‹ã§ããªã„ä¾¡å€¤ã‚’è¿½æ±‚', effect: { creditBonus: 2 },
        successText: 'AIã«ã¯çœŸä¼¼ã§ããªã„ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ç›®æŒ‡ã™ã€‚ä¿¡ç”¨+2' },
      { text: 'æ§˜å­ã‚’è¦‹ã‚‹', effect: {},
        successText: 'ã¾ã åˆ¤æ–­ã¯æ—©ã„ã€‚ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’è¦‹æ¥µã‚ã‚ˆã†ã€‚' },
    ],
  },
  {
    id: 'ev_health_checkup',
    period: 4, month: 10,
    title: 'ðŸ¥ å¥åº·è¨ºæ–­ã®çµæžœ',
    text: 'å¥åº·è¨ºæ–­ã§ã€Œè¦å†æ¤œæŸ»ã€ã®é …ç›®ãŒâ€¦ã€‚ä»•äº‹ã®ã—ã™ãŽã‹ï¼Ÿ',
    choices: [
      { text: 'ã™ãã«å†æ¤œæŸ»ã‚’å—ã‘ã‚‹', effect: { hpCost: 1, cost: 20000 },
        successText: 'å†æ¤œæŸ»ã®çµæžœã€å¤§ããªå•é¡Œã¯ãªã‹ã£ãŸã€‚ã§ã‚‚ç”Ÿæ´»ç¿’æ…£ã®è¦‹ç›´ã—ãŒå¿…è¦ã€‚' },
      { text: 'å¿™ã—ã„ã®ã§å¾Œå›žã—ã«ã™ã‚‹', effect: { futureHealthRisk: true },
        successText: 'ä»Šã¯ä»•äº‹ãŒå¤§äº‹â€¦ã€‚ã§ã‚‚ä½“ãŒè³‡æœ¬ã ã¨ã„ã†ã“ã¨ã‚’å¿˜ã‚Œãšã«ã€‚' },
    ],
  },
  {
    id: 'ev_partnership_offer',
    period: 4, month: 11,
    title: 'ðŸ¤ æ¥­å‹™ææºã®æ‰“è¨º',
    text: 'åŒæ¥­ä»–ç¤¾ã‹ã‚‰ã€Œä¸€ç·’ã«ã‚„ã‚Šã¾ã›ã‚“ã‹ã€ã¨ææºã®è©±ãŒæ¥ãŸã€‚',
    choices: [
      { text: 'ææºã‚’å—ã‘å…¥ã‚Œã‚‹', effect: { creditBonus: 4, partnershipFormed: true },
        successText: 'äº’ã„ã®å¼·ã¿ã‚’æ´»ã‹ã—ãŸå”æ¥­ãŒã‚¹ã‚¿ãƒ¼ãƒˆï¼ä¿¡ç”¨+4' },
      { text: 'æ…Žé‡ã«æ¤œè¨Žã™ã‚‹', effect: { hpCost: 1 },
        successText: 'æ¡ä»¶ã‚’ç²¾æŸ»ã—ã¦ã‹ã‚‰åˆ¤æ–­ã—ã‚ˆã†ã€‚' },
      { text: 'æ–­ã‚‹', effect: {},
        successText: 'ä»Šã¯å˜ç‹¬ã§ã‚„ã£ã¦ã„ãã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§ã€‚' },
    ],
  },
  {
    id: 'ev_4th_settlement',
    period: 4, month: 12,
    title: 'ðŸ“Š 4æœŸç›®ã®æ±ºç®—',
    text: '4å¹´ç›®ã®æ±ºç®—ã€‚ã‚‚ã†ç«‹æ´¾ãªä¸­å …ä¼æ¥­ã ã€‚',
    choices: [
      { text: 'æ¬¡ã®5å¹´ã‚’è¦‹æ®ãˆã‚‹', effect: { creditBonus: 2 },
        successText: 'ä¼šç¤¾ã®å°†æ¥åƒã‚’æãã€‚ã©ã“ã¾ã§æˆé•·ã§ãã‚‹ã‹â€¦ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã€‚ä¿¡ç”¨+2' },
      { text: 'è¶³å…ƒã‚’å›ºã‚ã‚‹', effect: { hpRecover: 1 },
        successText: 'åŸºç›¤ã‚’å›ºã‚ã‚‹ã“ã¨ã‚‚å¤§äº‹ã€‚ç€å®Ÿã«é€²ã‚‚ã†ã€‚ä½“åŠ›+1' },
    ],
  },

  // --- 5æœŸ ---
  {
    id: 'ev_5th_year_start',
    period: 5, month: 1,
    title: 'ðŸ† 5å¹´ç›®ã€æœ€çµ‚æ±ºç®—ã®å¹´',
    text: '5å¹´ç›®ã€‚æœ€åˆã®5å¹´è¨ˆç”»ã€æœ€çµ‚ç« ã ã€‚',
    choices: [
      { text: 'æœ‰çµ‚ã®ç¾Žã‚’é£¾ã‚‹', effect: { hpRecover: 2, creditBonus: 2 },
        successText: '5å¹´ç›®ã«ãµã•ã‚ã—ã„æˆæžœã‚’å‡ºãã†ã€‚ä½“åŠ›+2ã€ä¿¡ç”¨+2' },
      { text: 'æ¬¡ã®5å¹´ã¸ã®å¸ƒçŸ³ã‚’æ‰“ã¤', effect: { creditBonus: 3 },
        successText: 'ã‚´ãƒ¼ãƒ«ã§ã¯ãªãé€šéŽç‚¹ã€‚ã¾ã ã¾ã æˆé•·ã™ã‚‹ã€‚ä¿¡ç”¨+3' },
    ],
  },
  {
    id: 'ev_junior_entrepreneur',
    period: 5, month: 3,
    title: 'ðŸ‘¥ å¾Œè¼©ã‹ã‚‰ã®èµ·æ¥­ç›¸è«‡',
    text: 'ã€Œèµ·æ¥­ã—ã‚ˆã†ã¨æ€ã£ã¦ã‚‹ã‚“ã§ã™ãŒã€ç›¸è«‡ã«ä¹—ã£ã¦ã‚‚ã‚‰ãˆã¾ã›ã‚“ã‹ï¼Ÿã€',
    choices: [
      { text: 'è¦ªèº«ã«ç›¸è«‡ã«ä¹—ã‚‹', effect: { hpCost: 1, creditBonus: 3 },
        successText: 'è‡ªåˆ†ã®çµŒé¨“ã‚’èªžã£ãŸã€‚ã€Œå‚è€ƒã«ãªã‚Šã¾ã™ï¼ã€ã¨æ„Ÿè¬ã•ã‚ŒãŸã€‚ä¿¡ç”¨+3' },
      { text: 'è»½ãã‚¢ãƒ‰ãƒã‚¤ã‚¹ã™ã‚‹', effect: { creditBonus: 1 },
        successText: 'ã€Œã¾ãšã¯å‰¯æ¥­ã‹ã‚‰å§‹ã‚ã¦ã¿ãŸã‚‰ï¼Ÿã€ãƒ’ãƒ³ãƒˆã ã‘æ¸¡ã—ãŸã€‚ä¿¡ç”¨+1' },
      { text: 'å¿™ã—ã„ã®ã§æ–­ã‚‹', effect: {},
        successText: 'ç”³ã—è¨³ãªã„ãŒã€ä»Šã¯è‡ªåˆ†ã®ã“ã¨ã§æ‰‹ä¸€æ¯ã ã€‚' },
    ],
  },
  {
    id: 'ev_big_opportunity',
    period: 5, month: 4,
    title: 'ðŸŒŸ å¤§ããªãƒãƒ£ãƒ³ã‚¹',
    text: 'å¤§æ‰‹ä¼æ¥­ã¨ã®å¤§åž‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è©±ãŒèˆžã„è¾¼ã‚“ã§ããŸã€‚æˆåŠŸã™ã‚Œã°ä¼šç¤¾ã®è©•ä¾¡ãŒä¸€æ°—ã«ä¸ŠãŒã‚‹ï¼',
    choices: [
      { text: 'å…¨åŠ›ã§æŒ‘æˆ¦ã™ã‚‹ï¼ˆä½“åŠ›-5ï¼‰', effect: { hpCost: 5, successChance: 0.6, bigSuccessBonus: true },
        successText: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæˆåŠŸï¼ä¼šç¤¾ã®çŸ¥ååº¦ãŒå¤§ããå‘ä¸Šã—ãŸï¼ä¿¡ç”¨+10ã€å£²ä¸Š+500ä¸‡',
        failText: 'æƒœã—ãã‚‚å¤±æ•—â€¦ã§ã‚‚ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã“ã¨ã«æ„å‘³ãŒã‚ã‚‹ã€‚ä¿¡ç”¨+2' },
      { text: 'ç¢ºå®Ÿã«å¯¾å¿œã™ã‚‹', effect: { hpCost: 3, creditBonus: 3, cashInflow: 1000000 },
        successText: 'å …å®Ÿã«é€²ã‚ã¦ç´å“å®Œäº†ã€‚å¤§ããªå®Ÿç¸¾ã«ãªã£ãŸã€‚ä¿¡ç”¨+3' },
      { text: 'ä»Šå›žã¯è¦‹é€ã‚‹', effect: {},
        successText: 'ãƒªã‚¹ã‚¯ãŒå¤§ãã™ãŽã‚‹ã€‚åˆ¥ã®æ©Ÿä¼šã‚’å¾…ã¨ã†ã€‚' },
    ],
  },
  {
    id: 'ev_ma_offer',
    period: 5, month: 6,
    title: 'ðŸ’° M&Aã®æ‰“è¨ºãŒæ¥ãŸ',
    text: 'ã€Œå¾¡ç¤¾ã‚’è²·åŽã—ãŸã„ã®ã§ã™ãŒâ€¦ã€å¤§æ‰‹ã‹ã‚‰å£°ãŒã‹ã‹ã£ãŸã€‚',
    condition: (state) => state.totalRevenue > 20000000,
    choices: [
      { text: 'è©±ã‚’èžã„ã¦ã¿ã‚‹', effect: { exitOption: true },
        successText: 'æ¡ä»¶æ¬¡ç¬¬ã§ã¯EXITã‚‚é¸æŠžè‚¢ã«ã€‚æœ€çµ‚æ±ºç®—å¾Œã«æ±ºæ–­ã§ãã‚‹ã€‚' },
      { text: 'æ–­ã‚‹', effect: {},
        successText: 'ã“ã®ä¼šç¤¾ã¯è‡ªåˆ†ã§è‚²ã¦ã‚‹ã€‚ã¾ã ã¾ã ã“ã‚Œã‹ã‚‰ã ã€‚' },
    ],
  },
  {
    id: 'ev_reflection',
    period: 5, month: 8,
    title: 'ðŸªž 5å¹´é–“ã‚’æŒ¯ã‚Šè¿”ã‚‹',
    text: 'ãµã¨ç«‹ã¡æ­¢ã¾ã£ã¦ã€ã“ã®5å¹´é–“ã‚’æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹â€¦',
    choices: [
      { text: 'æˆé•·ã‚’å®Ÿæ„Ÿã™ã‚‹', effect: { hpRecover: 2 },
        successText: 'ã‚ã®é ƒã®è‡ªåˆ†ã«ã¯æƒ³åƒã‚‚ã§ããªã‹ã£ãŸã€‚ã‚ˆãé ‘å¼µã£ãŸã€‚ä½“åŠ›+2' },
      { text: 'ã¾ã ã¾ã ã¨æ€ã†', effect: { creditBonus: 2 },
        successText: 'æº€è¶³ã—ã¦ã„ãŸã‚‰æˆé•·ã¯æ­¢ã¾ã‚‹ã€‚ã‚‚ã£ã¨ä¸Šã‚’ç›®æŒ‡ãã†ã€‚ä¿¡ç”¨+2' },
    ],
  },
  {
    id: 'ev_thank_supporters',
    period: 5, month: 10,
    title: 'ðŸ™ æ”¯ãˆã¦ãã‚ŒãŸäººã€…',
    text: 'ã“ã“ã¾ã§æ¥ã‚ŒãŸã®ã¯ã€å‘¨ã‚Šã®æ”¯ãˆãŒã‚ã£ãŸã‹ã‚‰ã€‚æ„Ÿè¬ã‚’ä¼ãˆãŸã„ã€‚',
    choices: [
      { text: 'é£Ÿäº‹ä¼šã‚’é–‹ãï¼ˆÆ³100,000ï¼‰', effect: { cost: 100000, creditBonus: 5 },
        successText: 'å–å¼•å…ˆã€å¾“æ¥­å“¡ã€å®¶æ—â€¦ã¿ã‚“ãªã«æ„Ÿè¬ã‚’ä¼ãˆãŸã€‚ä¿¡ç”¨+5' },
      { text: 'æ‰‹ç´™ã‚’é€ã‚‹', effect: { hpCost: 1, creditBonus: 2 },
        successText: 'å¿ƒã‚’è¾¼ã‚ãŸæ‰‹ç´™ã‚’æ›¸ã„ãŸã€‚è¿”äº‹ãŒå¬‰ã—ã„ã€‚ä¿¡ç”¨+2' },
    ],
  },
  {
    id: 'ev_next_chapter',
    period: 5, month: 11,
    title: 'ðŸ“– æ¬¡ã®ç« ã¸',
    text: '5å¹´é–“ã®åŒºåˆ‡ã‚Šã€‚ã“ã‚Œã‹ã‚‰ã®è‡ªåˆ†ã¨ä¼šç¤¾ã®æœªæ¥ã‚’è€ƒãˆã‚‹ã€‚',
    choices: [
      { text: 'äº‹æ¥­æ‹¡å¤§ã‚’ç›®æŒ‡ã™', effect: { creditBonus: 3 },
        successText: 'ã¾ã ã¾ã æˆé•·ã§ãã‚‹ã€‚æ¬¡ã®5å¹´ã‚‚é§†ã‘æŠœã‘ã‚ˆã†ï¼ä¿¡ç”¨+3' },
      { text: 'å®‰å®šçµŒå–¶ã‚’ç¶šã‘ã‚‹', effect: { hpRecover: 2 },
        successText: 'ç„¡ç†ã›ãšã€ã§ã‚‚ç€å®Ÿã«ã€‚ã“ã‚Œã‹ã‚‰ã‚‚é ‘å¼µã‚ã†ã€‚ä½“åŠ›+2' },
      { text: 'EXITã‚’æ¤œè¨Žã™ã‚‹', effect: { exitOption: true },
        successText: 'å£²å´ã¨ã„ã†é¸æŠžè‚¢ã‚‚è¦–é‡Žã«å…¥ã‚Œã¦ãŠã“ã†ã€‚' },
    ],
  },
  {
    id: 'ev_5th_settlement',
    period: 5, month: 12,
    title: 'ðŸŽŠ 5æœŸç›® æœ€çµ‚æœˆ',
    text: '5å¹´é–“ã®é›†å¤§æˆã€‚ä»Šæœˆã‚‚ä¹—ã‚Šåˆ‡ã£ãŸã‚‰ã€æœ€çµ‚æ±ºç®—ã ã€‚æ‚”ã„ã®ãªã„ã‚ˆã†ã€æœ€å¾Œã¾ã§å…¨åŠ›ã§ï¼',
    choices: [
      { text: 'æœ€å¾Œã¾ã§é ‘å¼µã‚‹ï¼', effect: { hpRecover: 2 },
        successText: '5å¹´é–“ã€ã‚ˆãé ‘å¼µã£ãŸã€‚ã‚ã¨ã¯çµæžœã‚’å¾…ã¤ã ã‘ã ã€‚ä½“åŠ›+2' },
    ],
  },
];

function getMonthEvent(state) {
  const candidates = EVENTS.filter(e => {
    if (e.period !== state.period) return false;
    if (e.month !== state.month) return false;
    if (e.condition && !e.condition(state)) return false;
    if (state.completedEvents.includes(e.id)) return false;
    return true;
  });
  return candidates.length > 0 ? candidates[0] : null;
}

// ãƒ©ãƒ³ãƒ€ãƒ ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆç‰¹å®šæœˆã«ç´ã¥ã‹ãªã„ï¼‰
const RANDOM_EVENTS = [
  {
    id: 'rand_referral',
    text: 'ä»¥å‰ã®å–å¼•å…ˆã‹ã‚‰ç´¹ä»‹ãŒå…¥ã£ãŸï¼',
    chance: 0.1,
    effect: { projectDirect: true, tier: 1 },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_tool_discount',
    text: 'ä½¿ã£ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ãŒ30%å‰²å¼•ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ä¸­ï¼',
    chance: 0.08,
    effect: { costReduction: 0.3 },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_sick',
    text: 'é¢¨é‚ªã‚’ã²ã„ã¦ã—ã¾ã£ãŸâ€¦ä»Šæœˆã®ä½“åŠ›-3',
    chance: 0.08,
    effect: { hpCost: 3 },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_server_down',
    text: 'ã‚µãƒ¼ãƒãƒ¼ãŒãƒ€ã‚¦ãƒ³ï¼å¾©æ—§ã«æ™‚é–“ãŒã‹ã‹ã£ãŸã€‚',
    chance: 0.06,
    effect: { hpCost: 2, cost: 15000 },
    period: [1,2,3,4,5],
  },
  // è¿½åŠ ãƒ©ãƒ³ãƒ€ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ
  {
    id: 'rand_cafe_meeting',
    text: 'ã‚«ãƒ•ã‚§ã§å¶ç„¶ã€æ½œåœ¨çš„ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨å‡ºä¼šã£ãŸï¼ååˆºäº¤æ›ã‹ã‚‰è©±ãŒå¼¾ã‚€ã€‚',
    chance: 0.05,
    effect: { creditBonus: 3, projectDirect: true, tier: 0 },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_inspiration',
    text: 'æ·±å¤œã«ãµã¨ã‚¢ã‚¤ãƒ‡ã‚¢ãŒé™ã‚Šã¦ããŸï¼ã¤ã„ä½œæ¥­ã«æ²¡é ­ã—ã¦ã—ã¾ã£ãŸâ€¦',
    chance: 0.08,
    effect: { hpCost: 2, nextProjectBonus: true },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_family_worry',
    text: 'å®Ÿå®¶ã‹ã‚‰é›»è©±ã€‚ã€Œä»•äº‹ã†ã¾ãã„ã£ã¦ã‚‹ï¼Ÿå¤§ä¸ˆå¤«ï¼Ÿã€ã¨å¿ƒé…ã•ã‚Œã‚‹ã€‚',
    chance: 0.1,
    effect: { hpCost: 1 },
    period: [1,2,3,4,5],
  },
  {
    id: 'rand_competitor',
    text: 'åŒæ¥­ã®ç«¶åˆä¼šç¤¾ã‚’ç™ºè¦‹ã€‚ã©ã†ã‚„ã‚‰æœ€è¿‘å‹¢ã„ãŒã‚ã‚‹ã‚‰ã—ã„â€¦',
    chance: 0.06,
    effect: { creditBonus: 1 },
    period: [1,2,3,4,5],
  },
];

function checkRandomEvent(state) {
  const candidates = RANDOM_EVENTS.filter(e => e.period.includes(state.period));
  for (const ev of candidates) {
    if (Math.random() < ev.chance) return ev;
  }
  return null;
}
